{"version":3,"sources":["context/ModalsContext.tsx","hooks/useModals.ts","modules/header/Header.tsx","modules/sidebar/MenuSidebar.tsx","context/LayoutContext.tsx","hooks/useLayout.ts","hooks/useSize.ts","modules/block/Block.tsx","modules/resolution-info/ResolutionInfo.tsx","modules/preview/Preview.tsx","modules/add-block/AddBlockModal.tsx","modules/controls/Controls.tsx","modules/control-panel/ControlPanel.tsx","modules/constructor/Constructor.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ModalsContext","createContext","menuSidebar","setMenuSidebar","config","setConfig","setAddBlock","addBlock","ModalsState","children","context","useState","_setMenuSidebar","_setConfig","_setAddBlock","state","useModals","Provider","value","Header","useContext","className","label","onClick","MenuSidebar","history","useHistory","visible","position","onHide","style","fontWeight","icon","marginRight","push","LayoutContext","currentElem","layout","setCurrentElem","setLayout","breakpoint","screenWidth","constructorRes","setConstructorRes","constructorWidth","setConstructorWidth","setAllLayouts","LayoutState","lg","md","sm","_setLayout","setScreenWidth","setBreakpoint","useLayoutEffect","updateSize","window","innerWidth","addEventListener","removeEventListener","_setCurrentElem","_setConstructorRes","_setConstructorWidth","item","size","actualSize","prev","width","useLayout","useSize","distributeWidth","grid","forEach","block","index","maxYSize","y","h","expansionValue","calculateExpansion","i","w","id","rowIndex","possibleWidth","Math","min","currentBlockIndex","findIndex","rowElement","currentBlock","length","x","nextBlock","buildAnArrayLikeGrid","operatingLayout","currentRow","findBlocksOnCurrentY","currentYBlocks","sort","a","b","sizeLayout","Block","backgroundColor","title","text","fontColor","color","height","overflow","margin","ResolutionInfo","Preview","sizedLayout","setSizedLayout","useEffect","to","padding","cols","rowHeight","isDraggable","isBounded","isResizable","isDroppable","compactType","preventCollision","map","background","content","AddBlockModal","inputState","setInputState","colorState","setColorState","widthState","setWidthState","addNewBlock","newBlock","v4","minH","maxH","header","footer","closeOnEscape","dismissableMask","htmlFor","type","onChange","e","target","onValueChange","showButtons","buttonLayout","step","decrementButtonClassName","incrementButtonClassName","incrementButtonIcon","decrementButtonIcon","mode","max","onBlur","tooltip","tooltipOptions","Controls","inputOnBlur","input","updatedCurrentElem","saveChanges","colorOnChange","changeContent","changedContent","operatedLayout","indexOfUpdatedElem","splice","console","log","changes","widthOnChange","ControlPanel","sizes","activeIndex","setActiveIndex","onTabChange","tab","toLowerCase","Constructor","JSON","parse","stringify","onLayoutChange","newLayout","layoutCopy","changedBlock","find","resizeHandles","cursor","boxShadow","App","path","exact","component","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4QAGMA,EAAgBC,wBAA4C,CACjEC,aAAa,EACbC,eAAgB,aAChBC,QAAQ,EACRC,UAAW,aACXC,YAAa,aACbC,UAAU,IAGEC,EAAwB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACjCC,ECXkB,WAAO,IAAD,EACSC,oBAAS,GADlB,mBACvBT,EADuB,KACVU,EADU,OAEDD,oBAAS,GAFR,mBAEvBP,EAFuB,KAEfS,EAFe,OAGGF,oBAAS,GAHZ,mBAGvBJ,EAHuB,KAGbO,EAHa,KAc9B,MAAO,CACNZ,cACAC,eARsB,SAACY,GACvBH,EAAgBG,IAQhBX,SACAC,UAPiB,SAACU,GAClBF,EAAWE,IAOXR,WACAD,YAfmB,SAACS,GACpBD,EAAaC,KDKEC,GAEhB,OACC,cAAChB,EAAciB,SAAf,CAAwBC,MAAOR,EAA/B,SACED,KAKWT,IEjBFmB,G,MAAS,WAAO,IACpBhB,EAAmBiB,qBAAWpB,GAA9BG,eACR,OACC,sBAAKkB,UAAU,SAAf,UACC,cAAC,SAAD,CAAQC,MAAM,YAAYC,QAAS,kBAAMpB,GAAe,MACxD,uD,eCJUqB,EAAc,WAAO,IAAD,EACQJ,qBAAWpB,GAA3CE,EADwB,EACxBA,YAAaC,EADW,EACXA,eACfsB,EAAUC,cAEhB,OACC,eAAC,UAAD,CACCC,QAASzB,EACT0B,SAAS,OACTP,UAAU,gBACVQ,OAAQ,kBAAM1B,GAAe,IAJ9B,UAMC,oBAAI2B,MAAO,CAAEC,WAAY,UAAzB,0BACA,cAAC,SAAD,CACCT,MAAM,UACNU,KAAK,gBACLX,UAAU,oBACVS,MAAO,CAAEG,YAAa,SACtBV,QAAS,WACRE,EAAQS,KAAK,KACb/B,GAAe,MAGjB,cAAC,SAAD,CACC6B,KAAK,YACLV,MAAM,cACND,UAAU,oBACVE,QAAS,WACRE,EAAQS,KAAK,gBACb/B,GAAe,U,wCC/BdgC,EAAgBlC,wBAA4C,CACjEmC,YAAa,GACbC,OAAQ,GACRC,eAAgB,aAChBC,UAAW,aACXC,WAAY,KACZC,YAAa,EACbC,eAAgB,KAChBC,kBAAmB,aACnBC,iBAAkB,EAClBC,oBAAqB,aACrBC,cAAe,eAGHC,EAAwB,SAAC,GAAkB,IAAhBtC,EAAe,EAAfA,SACjCC,ECMkB,WAAO,IAAD,EACDC,mBAA4B,CACxDqC,GAAI,GACJC,GAAI,GACJC,GAAI,KAJyB,mBACvBb,EADuB,KACfc,EADe,OAMQxC,mBAAS,GANjB,mBAMvB8B,EANuB,KAMVW,EANU,OAqBMzC,mBAAmB,MArBzB,mBAqBvB6B,EArBuB,KAqBXa,EArBW,KAuB9BC,2BAAgB,WACf,SAASC,IACJC,OAAOC,YAAc,KACxBJ,EAAc,MACJG,OAAOC,YAAc,KAAOD,OAAOC,WAAa,KAC1DJ,EAAc,MACJG,OAAOC,YAAc,KAAOD,OAAOC,WAAa,KAC1DJ,EAAc,MAEfD,EAAeI,OAAOC,YAKvB,OAHAD,OAAOE,iBAAiB,SAAUH,GAClCA,IACAH,EAAeI,OAAOC,YACf,kBAAMD,OAAOG,oBAAoB,SAAUJ,MAChD,IAtC2B,MAwCS5C,mBAAyB,MAxClC,mBAwCvByB,EAxCuB,KAwCVwB,EAxCU,OA8CejD,mBAAmB,MA9ClC,mBA8CvB+B,EA9CuB,KA8CPmB,EA9CO,OAoDmBlD,mBAAiB,MApDpC,mBAoDvBiC,EApDuB,KAoDLkB,EApDK,KA0D9B,MAAO,CACNzB,SACAD,cACAE,eAnBsB,SAACyB,GACvBH,EAAgBG,IAmBhBxB,UAtDiB,SAACF,EAAmB2B,GACrC,IAAMC,EAAaD,GAAQxB,EAE3BW,GAAW,SAACe,GAAD,mBAAC,eACRA,GADO,kBAETD,EAAa5B,QAkDfG,aACAC,cACAC,iBACAC,kBAlByB,SAACqB,GAC1BH,EAAmBG,IAkBnBpB,mBACAC,oBAd2B,SAACsB,GAC5BL,EAAqBK,IAcrBrB,cApDqB,SAAC1C,GACtB+C,EAAW/C,KDxBIgE,GAChB,OACC,cAACjC,EAAclB,SAAf,CAAwBC,MAAOR,EAA/B,SACED,KAKW0B,I,QExBFkC,EAAU,WACtB,IAMMC,EAAkB,SAACC,EAAmBlC,GAY3C,OAXAA,EAAOmC,SAAQ,SAACC,EAAOC,GAEtB,IAAMC,EAAWF,EAAMG,EAAIH,EAAMI,EAC3BC,EAAiBC,EAAmBR,EAAME,EAAMO,EAAGL,GAGnDG,IACLzC,EAAOqC,GAAOO,EAAIH,MAIbzC,GAGF0C,EAAqB,SAArBA,EACLR,EACAW,EACAP,GAGa,IAFbQ,EAEY,uDAFO,EACnBC,EACY,uDADc,GAG1B,GAAID,IAAaR,EAChB,OAAOU,KAAKC,IAAL,MAAAD,KAAI,YAAQD,IAGpB,IAAMG,EAAoBhB,EAAKY,GAAUK,WACxC,SAACC,GAAD,OAAgBA,EAAWT,IAAME,KAIlC,IAA2B,IAAvBK,EACH,OAAOR,EACNR,EACAW,EACAP,EACAQ,EAAW,EACXC,GAIF,IAAMM,EAAenB,EAAKY,GAAUI,GAGpC,GAAIA,IAAsBhB,EAAKY,GAAUQ,OAAS,EACjD,OAAOZ,EAAmBR,EAAMW,EAAIP,EAAUQ,EAAW,EAAhC,sBACrBC,GADqB,CAExB,GAAKM,EAAaE,KAGpB,IAAMC,EAAYtB,EAAKY,GAAUI,EAAoB,GAErD,OAAIG,EAAaE,EAAIC,EAAUD,EACvBb,EAAmBR,EAAMW,EAAIP,EAAUQ,EAAW,EAAhC,sBACrBC,GADqB,CAExBS,EAAUD,EAAIF,EAAaE,KAItB,GAGFE,EAAuB,SAAvBA,EACLC,GAGkB,IAFlBnB,EAEiB,uDAFL,EACZL,EACiB,uDADG,GAEdyB,EAAaC,EAAqBF,EAAiBnB,GAEzD,OAA0B,IAAtBoB,EAAWL,OACPpB,EAEAuB,EAAqBC,EAAiBnB,EAAI,EAAtB,sBACvBL,GADuB,CAE1ByB,MAKGC,EAAuB,SAACF,EAA4BnB,GACzD,IAAMsB,EAA4B,GAUlC,OARAH,EAAgBvB,SAAQ,SAACC,GACNG,GAAKH,EAAMG,GAAKA,EAAIH,EAAMI,EAAIJ,EAAMG,GAGrDsB,EAAehE,KAAKuC,MAIfyB,EAAeC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAER,EAAIS,EAAET,MAG9C,MAAO,CACNU,WArGkB,SAACP,GACnB,IAAMxB,EAAOuB,EAAqBC,GAElC,OADsBzB,EAAgBC,EAAMwB,MCEjCQ,EAAiC,SAAC,GAKzC,EAJLC,gBAIM,IAHNC,EAGK,EAHLA,MACAC,EAEK,EAFLA,KACAC,EACK,EADLA,UAEA,OACC,sBACC7E,MAAO,CACN0E,gBAAiB,UACjBI,MAAM,IAAD,OAAMD,GACXE,OAAQ,OACR1C,MAAO,OACP2C,SAAU,UAEXzF,UAAU,SARX,UAUC,8BACC,iCAASoF,MAEV,mBAAG3E,MAAO,CAAEiF,OAAQ,GAApB,SAA0BL,QCxBhBM,EAAiB,WAAO,IAAD,EACC5F,qBAAWe,GAAvCM,EAD2B,EAC3BA,YAAaD,EADc,EACdA,WACrB,OACC,wDACqB,iCAASA,IAD9B,2BAEQ,iCAASC,QCENwE,G,MAAU,WAAO,IAAD,EACgB7F,qBAAWe,GAA/CE,EADoB,EACpBA,OAAQI,EADY,EACZA,YAAaD,EADD,EACCA,WACrB8D,EAAejC,IAAfiC,WAFoB,EAGU3F,mBAAoB,IAH9B,mBAGrBuG,EAHqB,KAGRC,EAHQ,KAK5BC,qBAAU,WACT,IAAMF,EAAcZ,EAAWjE,EAAOG,IACtC2E,EAAeD,KAEb,CAAC7E,EAAQG,IAKZ,OACC,mCACgC,IAA9BH,EAAOG,GAAYmD,OACnB,sBAAKtE,UAAU,UAAf,UACC,oBAAIA,UAAU,iBAAd,mEAGA,cAAC,IAAD,CAASgG,GAAG,eAAehG,UAAU,gBAArC,qCAGA,cAAC,EAAD,OAGD,qCACC,qBAAKS,MAAO,CAAEwF,QAAS,UAAvB,SACC,cAAC,EAAD,MAGD,cAAC,IAAD,CACCjF,OArBG6E,EAsBH/C,MAAO1B,EACP8E,KAAM,GACNC,UAAW,GACXC,aAAa,EACbC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,YAAa,KACbC,kBAAkB,EAVnB,SAYEzF,EAAOG,GAAYuF,KAAI,SAACtD,GAAD,OACvB,qBAECpD,UAAU,SACVS,MAAO,CACNkG,WAAW,IAAD,OAAMvD,EAAMwD,QAAQzB,kBAJhC,SAOC,cAAC,EAAD,eAAW/B,EAAMwD,WANZxD,EAAMO,e,wCC5CNkD,EAAgB,WAAO,IAAD,EACA9G,qBAAWpB,GAArCO,EAD0B,EAC1BA,SAAUD,EADgB,EAChBA,YADgB,EAEAc,qBAAWe,GAArCE,EAF0B,EAE1BA,OAAQS,EAFkB,EAElBA,cAFkB,EAGEnC,mBAAS,CAC5C8F,MAAO,GACPC,KAAM,KAL2B,mBAG3ByB,EAH2B,KAGfC,EAHe,OAQEzH,mBAAS,CAC5CgG,UAAW,MACXH,gBAAiB,QAVgB,mBAQ3B6B,EAR2B,KAQfC,EARe,OAaE3H,mBAAS,GAbX,mBAa3B4H,EAb2B,KAafC,EAbe,KA2B5BC,EAAc,WACnB,GAAgC,IAA5BN,EAAW1B,MAAMd,OAArB,CAIA,IAAM+C,EAAoB,CACzB1D,EAAG2D,cACH9D,EAAG,EACHI,EAAGsD,EACH3C,EAAG,EACHhB,EAAG,EACHgE,KAAM,EACNC,KAAM,EACNZ,QAAS,CACRzB,gBAAiB6B,EAAW7B,gBAC5BG,UAAW0B,EAAW1B,UACtBD,KAAMyB,EAAWzB,KACjBD,MAAO0B,EAAW1B,QAIpB3D,EAAc,CACbE,GAAG,GAAD,mBAAMX,EAAM,IAAZ,CAAoBqG,IACtBzF,GAAG,GAAD,mBAAMZ,EAAM,IAAZ,CAAoBqG,IACtBxF,GAAG,GAAD,mBAAMb,EAAM,IAAZ,CAAoBqG,MAnCvBN,EAAc,CACb1B,KAAM,GACND,MAAO,KAER6B,EAAc,CACb3B,UAAW,MACXH,gBAAiB,QAElBgC,EAAc,KAgCf,OACC,cAAC,SAAD,CACCM,OAAO,gBACPnH,QAASpB,EACTwI,OAAQ,kBACP,gCACC,cAAC,SAAD,CACCzH,MAAM,QACND,UAAU,mCACVE,QAAS,kBAAMjB,GAAY,MAE5B,cAAC,SAAD,CACCgB,MAAM,YACNC,QAASkH,EACTpH,UAAU,0CAIbS,MAAO,CAAEqC,MAAO,QAChBtC,OAAQ,kBAAMvB,GAAY,IAC1B0I,eAAa,EACbC,iBAAe,EApBhB,SAsBC,sBAAK5H,UAAU,mCAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,YAAf,mBACA,cAAC,YAAD,CACChE,GAAG,YACHiE,KAAK,OACLjI,MAAOiH,EAAW1B,MAClB2C,SAAU,SAACC,GACVjB,GAAc,SAAClE,GAAD,mBAAC,eACXA,GADU,IAEbuC,MAAO4C,EAAEC,OAAOpI,iBAKpB,sBAAKG,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,WAAf,kBACA,cAAC,YAAD,CACChE,GAAG,WACHiE,KAAK,OACLjI,MAAOiH,EAAWzB,KAClB0C,SAAU,SAACC,GACVjB,GAAc,SAAClE,GAAD,mBAAC,eACXA,GADU,IAEbwC,KAAM2C,EAAEC,OAAOpI,iBAKnB,sBAAKG,UAAU,kBAAf,UACC,uBAAO6H,QAAQ,aAAf,wBACA,cAAC,cAAD,CACChE,GAAG,aACHhE,MAAOmH,EAAW1B,UAClByC,SAAU,SAACC,GACVf,GAAc,SAACpE,GAAD,mBAAC,eACXA,GADU,IAEbyC,UAAW0C,EAAEnI,iBAKjB,sBAAKG,UAAU,kBAAf,UACC,uBAAO6H,QAAQ,eAAf,sBACA,cAAC,cAAD,CACChE,GAAG,eACHhE,MAAOmH,EAAW7B,gBAClB4C,SAAU,SAACC,GACVf,GAAc,SAACpE,GAAD,mBAAC,eACXA,GADU,IAEbsC,gBAAiB6C,EAAEnI,iBAKvB,sBAAKG,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,YAAf,mBAEA,cAAC,cAAD,CACChE,GAAG,YACHhE,MAAOqH,EACPgB,cAAe,SAACF,GACfb,EAAca,EAAEnI,QAEjBsI,aAAW,EACXC,aAAa,aACbC,KAAM,EACNC,yBAAyB,kBACzBC,yBAAyB,mBACzBC,oBAAoB,aACpBC,oBAAoB,cACpBC,KAAK,UACLzE,IAAK,EACL0E,IAAK,GACLC,OAAQ,aACRC,QACC,uFAEDC,eAAgB,CACfvI,SAAU,kB,gBCjKJwI,EAAW,WAAO,IAAD,EACkChJ,qBAC9De,GADOE,EADqB,EACrBA,OAAQC,EADa,EACbA,eAAgBF,EADH,EACGA,YAAaU,EADhB,EACgBA,cAI7CsE,qBAAU,WAAO,IAAD,UACfgB,EAAc,CACb3B,MAAK,iBAAErE,QAAF,IAAEA,OAAF,EAAEA,EAAa6F,QAAQxB,aAAvB,QAAgC,GACrCC,KAAI,iBAAEtE,QAAF,IAAEA,OAAF,EAAEA,EAAa6F,QAAQvB,YAAvB,QAA+B,KAEpC4B,EAAc,CACb3B,UAAS,iBAAEvE,QAAF,IAAEA,OAAF,EAAEA,EAAa6F,QAAQtB,iBAAvB,QAAoC,MAC7CH,gBAAe,iBAAEpE,QAAF,IAAEA,OAAF,EAAEA,EAAa6F,QAAQzB,uBAAvB,QAA0C,QAG1DgC,EAAa,iBAACpG,QAAD,IAACA,OAAD,EAACA,EAAa6C,SAAd,QAAmB,KAC9B,CAAC7C,IAhByB,MAkBOzB,mBAAS,CAC5C8F,MAAO,GACPC,KAAM,KApBsB,mBAkBtByB,EAlBsB,KAkBVC,EAlBU,OAuBOzH,mBAAS,CAC5CgG,UAAW,MACXH,gBAAiB,QAzBW,mBAuBtB6B,EAvBsB,KAuBVC,EAvBU,OA4BO3H,mBAAS,GA5BhB,mBA4BtB4H,EA5BsB,KA4BVC,EA5BU,KAwCvB6B,EAAc,SAACC,GACpB,GAAIlI,EAAa,CAChB,IAAMmI,EAA2B,2BAC7BnI,GAD6B,IAEhC6F,QAAQ,2BACJ7F,EAAY6F,SADT,kBAELqC,EAAQnC,EAAWmC,OAItBE,EAAYD,KAIRE,EAAgB,SACrB7D,EACA1F,GAEA,GAAIkB,EAAa,CAChB,IAAMmI,EAA2B,2BAC7BnI,GAD6B,IAEhC6F,QAAQ,2BACJ7F,EAAY6F,SADT,kBAELrB,EAAQ1F,MAIXsJ,EAAYD,KAIRG,EAAgB,SAACrI,EAAmBsI,GACzC,IAAMC,EAAc,YAAOvI,GACrBwI,EAAqBD,EAAepF,WACzC,SAACf,GAAD,OAAWA,EAAMO,IAAM2F,EAAe3F,KAKvC,OAHwB,IAAxB6F,GACCD,EAAeE,OAAOD,EAAoB,EAAGF,GAC9CI,QAAQC,IAAI,iBAAkBL,GACvBC,GAGFJ,EAAc,SAACS,GACpB3I,EAAe2I,GACfnI,EAAc,CACbE,GAAI0H,EAAcrI,EAAOW,GAAIiI,GAC7BhI,GAAIyH,EAAcrI,EAAOY,GAAIgI,GAC7B/H,GAAIwH,EAAcrI,EAAOa,GAAI+H,MAI/B,OACC,mCACG7I,EAGD,sBAAKf,UAAU,mCAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,QAAf,mBACA,cAAC,YAAD,CACChE,GAAG,QACHiE,KAAK,OACLjI,MAAOiH,EAAW1B,MAClB2C,SAAU,SAACC,GACVjB,GAAc,SAAClE,GAAD,mBAAC,eACXA,GADU,IAEbuC,MAAO4C,EAAEC,OAAOpI,YAGlB+I,OAAQ,kBAAMI,EAAY,eAG5B,sBAAKhJ,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,OAAf,kBACA,cAAC,YAAD,CACChE,GAAG,OACHiE,KAAK,OACLjI,MAAOiH,EAAWzB,KAClB0C,SAAU,SAACC,GACVjB,GAAc,SAAClE,GAAD,mBAAC,eACXA,GADU,IAEbwC,KAAM2C,EAAEC,OAAOpI,YAGjB+I,OAAQ,kBAAMI,EAAY,cAG5B,sBAAKhJ,UAAU,kBAAf,UACC,uBAAO6H,QAAQ,aAAf,wBACA,cAAC,cAAD,CACChE,GAAG,aACHhE,MAAOmH,EAAW1B,UAClByC,SAAU,SAACC,GACVoB,EAAc,YAAapB,EAAEnI,aAIhC,sBAAKG,UAAU,kBAAf,UACC,uBAAO6H,QAAQ,WAAf,sBACA,cAAC,cAAD,CACChE,GAAG,WACHhE,MAAOmH,EAAW7B,gBAClB4C,SAAU,SAACC,GACVoB,EAAc,kBAAmBpB,EAAEnI,aAItC,sBAAKG,UAAU,mBAAf,UACC,uBAAO6H,QAAQ,QAAf,mBAEA,cAAC,cAAD,CACChE,GAAG,QACHhE,MAAOqH,EACPgB,cAAe,SAACF,IA3HA,SAACnI,GACtB,GAAIkB,EAAa,CAChB,IAAMmI,EAA2B,2BAC7BnI,GAD6B,IAEhC6C,EAAG/D,IAEJsJ,EAAYD,IAsHPW,CAAc7B,EAAEnI,QAEjBsI,aAAW,EACXC,aAAa,aACbC,KAAM,EACNC,yBAAyB,kBACzBC,yBAAyB,mBACzBC,oBAAoB,aACpBC,oBAAoB,cACpBC,KAAK,UACLzE,IAAK,EACL0E,IAAK,GACLC,OAAQ,aACRC,QACC,uFAEDC,eAAgB,CACfvI,SAAU,eA7Ed,yECnFSuJ,EAAe,WAC3B,IAAMC,EAAuB,CAC5B,CACC5I,WAAY,KACZ2B,MAAO,MAER,CACC3B,WAAY,KACZ2B,MAAO,KAER,CACC3B,WAAY,KACZ2B,MAAO,MAZwB,EAeKxD,mBAAS,GAfd,mBAe1B0K,EAf0B,KAebC,EAfa,OAsB7BlK,qBAAWe,GALdQ,EAjBgC,EAiBhCA,kBACAE,EAlBgC,EAkBhCA,oBACAN,EAnBgC,EAmBhCA,UACAG,EApBgC,EAoBhCA,eACAL,EArBgC,EAqBhCA,OArBgC,EAuBEjB,qBAAWpB,GAAtCK,EAvByB,EAuBzBA,UAAWC,EAvBc,EAuBdA,YACXgG,EAAejC,IAAfiC,WASR,OACC,sBAAKjF,UAAU,UAAf,UACC,sBAAKA,UAAU,WAAf,UACC,cAAC,SAAD,CACCC,MAAM,YACND,UAAU,+BACVE,QAAS,kBAAMjB,GAAY,MAE5B,cAAC,SAAD,CACCgB,MAAM,SACND,UAAU,mCACVE,QAAS,WACR,IAAM2F,EAAcZ,EAAWjE,EAAOK,IAEtCH,EAAU2E,EAAaxE,MAGzB,cAAC,SAAD,CACCV,KAAK,cACLX,UAAU,2EACVE,QAAS,kBAAMlB,GAAU,SAI3B,cAAC,UAAD,CAASgL,YAAaA,EAAaE,YA9BjB,SAAClC,GACpBiC,EAAejC,EAAE3E,OACjB/B,EAAkByI,EAAM/B,EAAE3E,OAAOlC,YACjCK,EAAoBuI,EAAM/B,EAAE3E,OAAOP,QA2BlC,SAhCW,CAAC,UAAW,SAAU,UAiC1B4D,KAAI,SAACyD,GAAD,OACT,cAAC,WAAD,CAAU1C,OAAQ0C,EAAlB,SACC,cAAC,EAAD,KAD2BA,EAAIC,wBCrExBC,EAAc,WAAO,IAAD,EAQ5BtK,qBAAWe,GANdE,EAF+B,EAE/BA,OACAK,EAH+B,EAG/BA,eACAE,EAJ+B,EAI/BA,iBACAL,EAL+B,EAK/BA,UACAD,EAN+B,EAM/BA,eACAF,EAP+B,EAO/BA,YAP+B,EAUFhB,qBAAWpB,GAAjCI,EAVwB,EAUxBA,OAAQC,EAVgB,EAUhBA,UAyBhB,OACC,qCACC,cAAC,EAAD,IACCD,EACA,cAAC,EAAD,IAEA,qBAAKiB,UAAU,kBAAf,SACC,cAAC,SAAD,CACCC,MAAM,gBACND,UAAU,oCACVE,QAAS,kBAAMlB,GAAU,QAI5B,sBAAKgB,UAAU,cAAf,UACC,+BACC,mCAASuB,EAAT,UAGA,qBACCvB,UAAS,oBACTS,MAAO,CAAEqC,MAAM,GAAD,OAAKvB,EAAL,OAFf,SAIC,cAAC,IAAD,CACCP,OA9CEsJ,KAAKC,MAAMD,KAAKE,UAAUxJ,EAAOK,KA+CnCyB,MAAOvB,EACP2E,KAAM,GACNC,UAAW,GAGXsE,eAjDiB,SAACC,GACvB,IAAMC,EAAwB3J,EAAOK,GAAgBqF,KAAI,SAACtD,GACzD,IAAMwH,EAAeF,EAAUG,MAC9B,SAACxD,GAAD,OAAcA,EAAS1D,IAAMP,EAAMO,KAGpC,MAAO,CACNA,EAAGiH,EAAcjH,EACjBiD,QAASxD,EAAMwD,QACfrC,EAAGqG,EAAcrG,EACjBhB,EAAGqH,EAAcrH,EACjBK,EAAGgH,EAAchH,EACjBJ,EAAGoH,EAAcpH,MAInBtC,EAAUyJ,EAAYtJ,IAkCjByJ,cAAe,CAAC,KAAM,KAAM,KAAM,MARnC,SAWE9J,EAAOK,GAAgBqF,KAAI,SAACtD,GAAD,OAC3B,qBAEClD,QAAS,kBAAMe,EAAemC,IAC9B3C,MAAO,CACNsK,OAAQ,UACRC,UACC5H,EAAMO,KAAN,OAAY5C,QAAZ,IAAYA,OAAZ,EAAYA,EAAa4C,GACtB,8BACA,OACJgD,WAAW,IAAD,OAAMvD,EAAMwD,QAAQzB,iBAC9Bc,QAAS,UAVX,SAaC,cAAC,EAAD,eAAW7C,EAAMwD,WAZZxD,EAAMO,iBC9DLsH,EAbH,WACX,OACC,qCACC,cAAC,EAAD,IACA,cAAC,EAAD,IACA,eAAC,IAAD,WACC,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWxF,IACjC,cAAC,IAAD,CAAOsF,KAAK,eAAeE,UAAWf,IACtC,cAAC,IAAD,CAAUc,OAAK,EAACE,KAAK,KAAKrF,GAAI,aCAnBsF,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC,EAAD,UACC,cAAC,EAAD,UACC,cAAC,EAAD,YAKJC,SAASC,eAAe,SAMzBb,M","file":"static/js/main.d3657c10.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nimport { useModals } from \"../hooks/useModals\";\r\n\r\nconst ModalsContext = createContext<ReturnType<typeof useModals>>({\r\n\tmenuSidebar: false,\r\n\tsetMenuSidebar: () => {},\r\n\tconfig: true,\r\n\tsetConfig: () => {},\r\n\tsetAddBlock: () => {},\r\n\taddBlock: false,\r\n});\r\n\r\nexport const ModalsState: React.FC = ({ children }) => {\r\n\tconst context = useModals();\r\n\r\n\treturn (\r\n\t\t<ModalsContext.Provider value={context}>\r\n\t\t\t{children}\r\n\t\t</ModalsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default ModalsContext;\r\n","import { useState } from \"react\";\r\n\r\nexport const useModals = () => {\r\n\tconst [menuSidebar, _setMenuSidebar] = useState(false);\r\n\tconst [config, _setConfig] = useState(true);\r\n\tconst [addBlock, _setAddBlock] = useState(false);\r\n\r\n\tconst setAddBlock = (state: boolean) => {\r\n\t\t_setAddBlock(state);\r\n\t};\r\n\tconst setMenuSidebar = (state: boolean) => {\r\n\t\t_setMenuSidebar(state);\r\n\t};\r\n\tconst setConfig = (state: boolean) => {\r\n\t\t_setConfig(state);\r\n\t};\r\n\treturn {\r\n\t\tmenuSidebar,\r\n\t\tsetMenuSidebar,\r\n\t\tconfig,\r\n\t\tsetConfig,\r\n\t\taddBlock,\r\n\t\tsetAddBlock,\r\n\t};\r\n};\r\n","import { Button } from \"primereact/button\";\r\nimport { useContext } from \"react\";\r\nimport ModalsContext from \"../../context/ModalsContext\";\r\nimport \"./Header.scss\";\r\n\r\nexport const Header = () => {\r\n\tconst { setMenuSidebar } = useContext(ModalsContext);\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<Button label=\"Open menu\" onClick={() => setMenuSidebar(true)} />\r\n\t\t\t<h1>Page constructor</h1>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Sidebar } from \"primereact/sidebar\";\r\nimport { Button } from \"primereact/button\";\r\nimport { useContext } from \"react\";\r\nimport ModalsContext from \"../../context/ModalsContext\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const MenuSidebar = () => {\r\n\tconst { menuSidebar, setMenuSidebar } = useContext(ModalsContext);\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<Sidebar\r\n\t\t\tvisible={menuSidebar}\r\n\t\t\tposition=\"left\"\r\n\t\t\tclassName=\"ui-sidebar-sm\"\r\n\t\t\tonHide={() => setMenuSidebar(false)}\r\n\t\t>\r\n\t\t\t<h1 style={{ fontWeight: \"normal\" }}>Sidebar menu</h1>\r\n\t\t\t<Button\r\n\t\t\t\tlabel=\"Preview\"\r\n\t\t\t\ticon=\"pi pi-desktop\"\r\n\t\t\t\tclassName=\"p-button-outlined\"\r\n\t\t\t\tstyle={{ marginRight: \".25em\" }}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/\");\r\n\t\t\t\t\tsetMenuSidebar(false);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\ticon=\"pi pi-cog\"\r\n\t\t\t\tlabel=\"Constructor\"\r\n\t\t\t\tclassName=\"p-button-outlined\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\thistory.push(\"/constructor\");\r\n\t\t\t\t\tsetMenuSidebar(false);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</Sidebar>\r\n\t);\r\n};\r\n","import { createContext } from \"react\";\r\nimport { ILayout, IResponsiveLayout, useLayout } from \"../hooks/useLayout\";\r\n\r\nconst LayoutContext = createContext<ReturnType<typeof useLayout>>({\r\n\tcurrentElem: {} as ILayout,\r\n\tlayout: {} as IResponsiveLayout,\r\n\tsetCurrentElem: () => {},\r\n\tsetLayout: () => {},\r\n\tbreakpoint: \"lg\",\r\n\tscreenWidth: 0,\r\n\tconstructorRes: \"lg\",\r\n\tsetConstructorRes: () => {},\r\n\tconstructorWidth: 0,\r\n\tsetConstructorWidth: () => {},\r\n\tsetAllLayouts: () => {},\r\n});\r\n\r\nexport const LayoutState: React.FC = ({ children }) => {\r\n\tconst context = useLayout();\r\n\treturn (\r\n\t\t<LayoutContext.Provider value={context}>\r\n\t\t\t{children}\r\n\t\t</LayoutContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default LayoutContext;\r\n","import { useLayoutEffect, useState } from \"react\";\r\nimport { IBlockContent } from \"../modules/block/Block\";\r\n\r\nexport interface ILayout {\r\n\ti: string;\r\n\tx: number;\r\n\ty: number;\r\n\tw: number;\r\n\th: number;\r\n\tstatic?: boolean;\r\n\tminH?: number;\r\n\tmaxH?: number;\r\n\tmoved?: boolean;\r\n\tcontent: IBlockContent;\r\n}\r\n\r\nexport type SizeType = \"lg\" | \"md\" | \"sm\";\r\n\r\nexport interface IResponsiveLayout {\r\n\tlg: ILayout[];\r\n\tmd: ILayout[];\r\n\tsm: ILayout[];\r\n}\r\n\r\nexport const useLayout = () => {\r\n\tconst [layout, _setLayout] = useState<IResponsiveLayout>({\r\n\t\tlg: [],\r\n\t\tmd: [],\r\n\t\tsm: [],\r\n\t});\r\n\tconst [screenWidth, setScreenWidth] = useState(0);\r\n\r\n\tconst setLayout = (layout: ILayout[], size?: SizeType) => {\r\n\t\tconst actualSize = size || breakpoint;\r\n\r\n\t\t_setLayout((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[actualSize]: layout,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst setAllLayouts = (config: IResponsiveLayout) => {\r\n\t\t_setLayout(config);\r\n\t};\r\n\r\n\tconst [breakpoint, setBreakpoint] = useState<SizeType>(\"lg\");\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tfunction updateSize() {\r\n\t\t\tif (window.innerWidth >= 1200) {\r\n\t\t\t\tsetBreakpoint(\"lg\");\r\n\t\t\t} else if (window.innerWidth >= 991 && window.innerWidth < 1200) {\r\n\t\t\t\tsetBreakpoint(\"md\");\r\n\t\t\t} else if (window.innerWidth >= 768 && window.innerWidth < 991) {\r\n\t\t\t\tsetBreakpoint(\"sm\");\r\n\t\t\t}\r\n\t\t\tsetScreenWidth(window.innerWidth);\r\n\t\t}\r\n\t\twindow.addEventListener(\"resize\", updateSize);\r\n\t\tupdateSize();\r\n\t\tsetScreenWidth(window.innerWidth);\r\n\t\treturn () => window.removeEventListener(\"resize\", updateSize);\r\n\t}, []);\r\n\r\n\tconst [currentElem, _setCurrentElem] = useState<ILayout | null>(null);\r\n\r\n\tconst setCurrentElem = (item: ILayout | null) => {\r\n\t\t_setCurrentElem(item);\r\n\t};\r\n\r\n\tconst [constructorRes, _setConstructorRes] = useState<SizeType>(\"lg\");\r\n\r\n\tconst setConstructorRes = (size: SizeType) => {\r\n\t\t_setConstructorRes(size);\r\n\t};\r\n\r\n\tconst [constructorWidth, _setConstructorWidth] = useState<number>(1200);\r\n\r\n\tconst setConstructorWidth = (width: number) => {\r\n\t\t_setConstructorWidth(width);\r\n\t};\r\n\r\n\treturn {\r\n\t\tlayout,\r\n\t\tcurrentElem,\r\n\t\tsetCurrentElem,\r\n\t\tsetLayout,\r\n\t\tbreakpoint,\r\n\t\tscreenWidth,\r\n\t\tconstructorRes,\r\n\t\tsetConstructorRes,\r\n\t\tconstructorWidth,\r\n\t\tsetConstructorWidth,\r\n\t\tsetAllLayouts,\r\n\t};\r\n};\r\n","import { ILayout } from \"./useLayout\";\r\n\r\nexport const useSize = () => {\r\n\tconst sizeLayout = (operatingLayout: ILayout[]): ILayout[] => {\r\n\t\tconst grid = buildAnArrayLikeGrid(operatingLayout);\r\n\t\tconst updatedLayout = distributeWidth(grid, operatingLayout);\r\n\t\treturn updatedLayout;\r\n\t};\r\n\r\n\tconst distributeWidth = (grid: ILayout[][], layout: ILayout[]) => {\r\n\t\tlayout.forEach((block, index) => {\r\n\t\t\t//1. check if block can be sized\r\n\t\t\tconst maxYSize = block.y + block.h;\r\n\t\t\tconst expansionValue = calculateExpansion(grid, block.i, maxYSize);\r\n\r\n\t\t\t//2. if it is possible, distribute\r\n\t\t\tif (!!expansionValue) {\r\n\t\t\t\tlayout[index].w = expansionValue;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn layout;\r\n\t};\r\n\r\n\tconst calculateExpansion = (\r\n\t\tgrid: ILayout[][],\r\n\t\tid: string,\r\n\t\tmaxYSize: number,\r\n\t\trowIndex: number = 0,\r\n\t\tpossibleWidth: number[] = []\r\n\t): number => {\r\n\t\t// If rowIndex has reached the edge of possible Y coordinates\r\n\t\tif (rowIndex === maxYSize) {\r\n\t\t\treturn Math.min(...possibleWidth);\r\n\t\t}\r\n\r\n\t\tconst currentBlockIndex = grid[rowIndex].findIndex(\r\n\t\t\t(rowElement) => rowElement.i === id\r\n\t\t);\r\n\r\n\t\t// If there is no needed block\r\n\t\tif (currentBlockIndex === -1) {\r\n\t\t\treturn calculateExpansion(\r\n\t\t\t\tgrid,\r\n\t\t\t\tid,\r\n\t\t\t\tmaxYSize,\r\n\t\t\t\trowIndex + 1,\r\n\t\t\t\tpossibleWidth\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tconst currentBlock = grid[rowIndex][currentBlockIndex];\r\n\r\n\t\t// If current block of row is the last element of row\r\n\t\tif (currentBlockIndex === grid[rowIndex].length - 1) {\r\n\t\t\treturn calculateExpansion(grid, id, maxYSize, rowIndex + 1, [\r\n\t\t\t\t...possibleWidth,\r\n\t\t\t\t12 - currentBlock.x,\r\n\t\t\t]);\r\n\t\t}\r\n\t\tconst nextBlock = grid[rowIndex][currentBlockIndex + 1];\r\n\r\n\t\tif (currentBlock.x < nextBlock.x) {\r\n\t\t\treturn calculateExpansion(grid, id, maxYSize, rowIndex + 1, [\r\n\t\t\t\t...possibleWidth,\r\n\t\t\t\tnextBlock.x - currentBlock.x,\r\n\t\t\t]);\r\n\t\t}\r\n\r\n\t\treturn 0;\r\n\t};\r\n\r\n\tconst buildAnArrayLikeGrid = (\r\n\t\toperatingLayout: ILayout[],\r\n\t\ty: number = 0,\r\n\t\tgrid: ILayout[][] = []\r\n\t): ILayout[][] => {\r\n\t\tconst currentRow = findBlocksOnCurrentY(operatingLayout, y);\r\n\r\n\t\tif (currentRow.length === 0) {\r\n\t\t\treturn grid;\r\n\t\t} else {\r\n\t\t\treturn buildAnArrayLikeGrid(operatingLayout, y + 1, [\r\n\t\t\t\t...grid,\r\n\t\t\t\tcurrentRow,\r\n\t\t\t]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst findBlocksOnCurrentY = (operatingLayout: ILayout[], y: number) => {\r\n\t\tconst currentYBlocks: ILayout[] = [];\r\n\r\n\t\toperatingLayout.forEach((block) => {\r\n\t\t\tconst isInRange = y >= block.y && y < block.h + block.y;\r\n\r\n\t\t\tif (isInRange) {\r\n\t\t\t\tcurrentYBlocks.push(block);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn currentYBlocks.sort((a, b) => a.x - b.x);\r\n\t};\r\n\r\n\treturn {\r\n\t\tsizeLayout,\r\n\t};\r\n};\r\n","export interface IBlockContent {\r\n\ttitle: string;\r\n\ttext: string;\r\n\tfontColor: string;\r\n\tbackgroundColor: string;\r\n}\r\n\r\nexport const Block: React.FC<IBlockContent> = ({\r\n\tbackgroundColor,\r\n\ttitle,\r\n\ttext,\r\n\tfontColor,\r\n}) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundColor: \"inherit\",\r\n\t\t\t\tcolor: `#${fontColor}`,\r\n\t\t\t\theight: \"100%\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t\toverflow: \"scroll\",\r\n\t\t\t}}\r\n\t\t\tclassName=\"scroll\"\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<strong>{title}</strong>\r\n\t\t\t</div>\r\n\t\t\t<p style={{ margin: 0 }}>{text}</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { useContext } from \"react\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\n\r\nexport const ResolutionInfo = () => {\r\n\tconst { screenWidth, breakpoint } = useContext(LayoutContext);\r\n\treturn (\r\n\t\t<span>\r\n\t\t\tCurrent breakpoint: <strong>{breakpoint}</strong>. Current screen\r\n\t\t\twidth: <strong>{screenWidth}</strong>\r\n\t\t</span>\r\n\t);\r\n};\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport ReactGridLayout from \"react-grid-layout\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\nimport { ILayout } from \"../../hooks/useLayout\";\r\nimport { useSize } from \"../../hooks/useSize\";\r\nimport { Block } from \"../block/Block\";\r\nimport { ResolutionInfo } from \"../resolution-info/ResolutionInfo\";\r\nimport \"./Preview.scss\";\r\n\r\nexport const Preview = () => {\r\n\tconst { layout, screenWidth, breakpoint } = useContext(LayoutContext);\r\n\tconst { sizeLayout } = useSize();\r\n\tconst [sizedLayout, setSizedLayout] = useState<ILayout[]>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst sizedLayout = sizeLayout(layout[breakpoint]);\r\n\t\tsetSizedLayout(sizedLayout);\r\n\t\t//eslint-disable-next-line\r\n\t}, [layout, breakpoint]);\r\n\r\n\tconst getLayouts = () => {\r\n\t\treturn sizedLayout;\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{layout[breakpoint].length === 0 ? (\r\n\t\t\t\t<div className=\"preview\">\r\n\t\t\t\t\t<h2 className=\"preview__title\">\r\n\t\t\t\t\t\tSeems like there are no blocks on current resolution.\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<NavLink to=\"/constructor\" className=\"preview__link\">\r\n\t\t\t\t\t\tGo to block constructor\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<ResolutionInfo />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div style={{ padding: \"0 20px\" }}>\r\n\t\t\t\t\t\t<ResolutionInfo />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ReactGridLayout\r\n\t\t\t\t\t\tlayout={getLayouts()}\r\n\t\t\t\t\t\twidth={screenWidth}\r\n\t\t\t\t\t\tcols={12}\r\n\t\t\t\t\t\trowHeight={30}\r\n\t\t\t\t\t\tisDraggable={false}\r\n\t\t\t\t\t\tisBounded={true}\r\n\t\t\t\t\t\tisResizable={false}\r\n\t\t\t\t\t\tisDroppable={false}\r\n\t\t\t\t\t\tcompactType={null}\r\n\t\t\t\t\t\tpreventCollision={true}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{layout[breakpoint].map((block) => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={block.i}\r\n\t\t\t\t\t\t\t\tclassName=\"scroll\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground: `#${block.content.backgroundColor}`,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Block {...block.content} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ReactGridLayout>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Button } from \"primereact/button\";\r\nimport { ColorPicker } from \"primereact/colorpicker\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { InputNumber } from \"primereact/inputnumber\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { useContext, useState } from \"react\";\r\nimport { v4 } from \"uuid\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\nimport ModalsContext from \"../../context/ModalsContext\";\r\nimport { ILayout } from \"../../hooks/useLayout\";\r\nimport { ContolledInput } from \"../controls/Controls\";\r\n\r\nexport const AddBlockModal = () => {\r\n\tconst { addBlock, setAddBlock } = useContext(ModalsContext);\r\n\tconst { layout, setAllLayouts } = useContext(LayoutContext);\r\n\tconst [inputState, setInputState] = useState({\r\n\t\ttitle: \"\",\r\n\t\ttext: \"\",\r\n\t});\r\n\r\n\tconst [colorState, setColorState] = useState({\r\n\t\tfontColor: \"000\",\r\n\t\tbackgroundColor: \"fff\",\r\n\t});\r\n\r\n\tconst [widthState, setWidthState] = useState(1);\r\n\r\n\tconst resetToDefaultValues = () => {\r\n\t\tsetInputState({\r\n\t\t\ttext: \"\",\r\n\t\t\ttitle: \"\",\r\n\t\t});\r\n\t\tsetColorState({\r\n\t\t\tfontColor: \"000\",\r\n\t\t\tbackgroundColor: \"fff\",\r\n\t\t});\r\n\t\tsetWidthState(1);\r\n\t};\r\n\r\n\tconst addNewBlock = () => {\r\n\t\tif (inputState.title.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst newBlock: ILayout = {\r\n\t\t\ti: v4(),\r\n\t\t\th: 2,\r\n\t\t\tw: widthState,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tminH: 2,\r\n\t\t\tmaxH: 2,\r\n\t\t\tcontent: {\r\n\t\t\t\tbackgroundColor: colorState.backgroundColor,\r\n\t\t\t\tfontColor: colorState.fontColor,\r\n\t\t\t\ttext: inputState.text,\r\n\t\t\t\ttitle: inputState.title,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tsetAllLayouts({\r\n\t\t\tlg: [...layout[\"lg\"], newBlock],\r\n\t\t\tmd: [...layout[\"md\"], newBlock],\r\n\t\t\tsm: [...layout[\"sm\"], newBlock],\r\n\t\t});\r\n\r\n\t\tresetToDefaultValues();\r\n\t};\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\theader=\"Add new block\"\r\n\t\t\tvisible={addBlock}\r\n\t\t\tfooter={() => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tlabel=\"Close\"\r\n\t\t\t\t\t\tclassName=\"p-button-rounded p-button-danger\"\r\n\t\t\t\t\t\tonClick={() => setAddBlock(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tlabel=\"Add block\"\r\n\t\t\t\t\t\tonClick={addNewBlock}\r\n\t\t\t\t\t\tclassName=\"p-button-rounded p-button-success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\tstyle={{ width: \"50vw\" }}\r\n\t\t\tonHide={() => setAddBlock(false)}\r\n\t\t\tcloseOnEscape\r\n\t\t\tdismissableMask\r\n\t\t>\r\n\t\t\t<div className=\"p-fluid p-formgrid p-grid p-mt-3\">\r\n\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t<label htmlFor=\"add-title\">Title</label>\r\n\t\t\t\t\t<InputText\r\n\t\t\t\t\t\tid=\"add-title\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={inputState.title}\r\n\t\t\t\t\t\tonChange={(e: ContolledInput) => {\r\n\t\t\t\t\t\t\tsetInputState((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\ttitle: e.target.value,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t<label htmlFor=\"add-text\">Text</label>\r\n\t\t\t\t\t<InputText\r\n\t\t\t\t\t\tid=\"add-text\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tvalue={inputState.text}\r\n\t\t\t\t\t\tonChange={(e: ContolledInput) => {\r\n\t\t\t\t\t\t\tsetInputState((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\ttext: e.target.value,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-field p-col-6\">\r\n\t\t\t\t\t<label htmlFor=\"font-color\">Font color</label>\r\n\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\tid=\"font-color\"\r\n\t\t\t\t\t\tvalue={colorState.fontColor}\r\n\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\tsetColorState((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\tfontColor: e.value,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-field p-col-6\">\r\n\t\t\t\t\t<label htmlFor=\"add-bg-color\">Bg color</label>\r\n\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\tid=\"add-bg-color\"\r\n\t\t\t\t\t\tvalue={colorState.backgroundColor}\r\n\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\tsetColorState((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\tbackgroundColor: e.value,\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t<label htmlFor=\"add-width\">Width</label>\r\n\r\n\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\tid=\"add-width\"\r\n\t\t\t\t\t\tvalue={widthState}\r\n\t\t\t\t\t\tonValueChange={(e) => {\r\n\t\t\t\t\t\t\tsetWidthState(e.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tshowButtons\r\n\t\t\t\t\t\tbuttonLayout=\"horizontal\"\r\n\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\tdecrementButtonClassName=\"p-button-danger\"\r\n\t\t\t\t\t\tincrementButtonClassName=\"p-button-success\"\r\n\t\t\t\t\t\tincrementButtonIcon=\"pi pi-plus\"\r\n\t\t\t\t\t\tdecrementButtonIcon=\"pi pi-minus\"\r\n\t\t\t\t\t\tmode=\"decimal\"\r\n\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\tmax={12}\r\n\t\t\t\t\t\tonBlur={() => {}}\r\n\t\t\t\t\t\ttooltip={\r\n\t\t\t\t\t\t\t\"Screen is represented as 12-col grid. Choose how many columns your block will occupy\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttooltipOptions={{\r\n\t\t\t\t\t\t\tposition: \"top\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { ColorPicker } from \"primereact/colorpicker\";\r\nimport { ILayout } from \"../../hooks/useLayout\";\r\nimport { InputNumber } from \"primereact/inputnumber\";\r\n\r\nexport type ContolledInput<T = HTMLInputElement> = React.ChangeEvent<T>;\r\n\r\nexport const Controls = () => {\r\n\tconst { layout, setCurrentElem, currentElem, setAllLayouts } = useContext(\r\n\t\tLayoutContext\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetInputState({\r\n\t\t\ttitle: currentElem?.content.title ?? \"\",\r\n\t\t\ttext: currentElem?.content.text ?? \"\",\r\n\t\t});\r\n\t\tsetColorState({\r\n\t\t\tfontColor: currentElem?.content.fontColor ?? \"000\",\r\n\t\t\tbackgroundColor: currentElem?.content.backgroundColor ?? \"fff\",\r\n\t\t});\r\n\r\n\t\tsetWidthState(currentElem?.w ?? 2);\r\n\t}, [currentElem]);\r\n\r\n\tconst [inputState, setInputState] = useState({\r\n\t\ttitle: \"\",\r\n\t\ttext: \"\",\r\n\t});\r\n\r\n\tconst [colorState, setColorState] = useState({\r\n\t\tfontColor: \"000\",\r\n\t\tbackgroundColor: \"fff\",\r\n\t});\r\n\r\n\tconst [widthState, setWidthState] = useState(2);\r\n\r\n\tconst widthOnChange = (value: number) => {\r\n\t\tif (currentElem) {\r\n\t\t\tconst updatedCurrentElem: ILayout = {\r\n\t\t\t\t...currentElem,\r\n\t\t\t\tw: value,\r\n\t\t\t};\r\n\t\t\tsaveChanges(updatedCurrentElem);\r\n\t\t}\r\n\t};\r\n\r\n\tconst inputOnBlur = (input: \"title\" | \"text\") => {\r\n\t\tif (currentElem) {\r\n\t\t\tconst updatedCurrentElem: ILayout = {\r\n\t\t\t\t...currentElem,\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\t...currentElem.content,\r\n\t\t\t\t\t[input]: inputState[input],\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tsaveChanges(updatedCurrentElem);\r\n\t\t}\r\n\t};\r\n\r\n\tconst colorOnChange = (\r\n\t\tcolor: \"fontColor\" | \"backgroundColor\",\r\n\t\tvalue: string\r\n\t) => {\r\n\t\tif (currentElem) {\r\n\t\t\tconst updatedCurrentElem: ILayout = {\r\n\t\t\t\t...currentElem,\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\t...currentElem.content,\r\n\t\t\t\t\t[color]: value,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tsaveChanges(updatedCurrentElem);\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeContent = (layout: ILayout[], changedContent: ILayout) => {\r\n\t\tconst operatedLayout = [...layout];\r\n\t\tconst indexOfUpdatedElem = operatedLayout.findIndex(\r\n\t\t\t(block) => block.i === changedContent.i\r\n\t\t);\r\n\t\tindexOfUpdatedElem !== -1 &&\r\n\t\t\toperatedLayout.splice(indexOfUpdatedElem, 1, changedContent);\r\n\t\tconsole.log(\"changedContent\", changedContent);\r\n\t\treturn operatedLayout;\r\n\t};\r\n\r\n\tconst saveChanges = (changes: ILayout) => {\r\n\t\tsetCurrentElem(changes);\r\n\t\tsetAllLayouts({\r\n\t\t\tlg: changeContent(layout.lg, changes),\r\n\t\t\tmd: changeContent(layout.md, changes),\r\n\t\t\tsm: changeContent(layout.sm, changes),\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{!currentElem ? (\r\n\t\t\t\t<p>Seems like there is no selected block</p>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"p-fluid p-formgrid p-grid p-mt-3\">\r\n\t\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t\t<label htmlFor=\"title\">Title</label>\r\n\t\t\t\t\t\t<InputText\r\n\t\t\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={inputState.title}\r\n\t\t\t\t\t\t\tonChange={(e: ContolledInput) => {\r\n\t\t\t\t\t\t\t\tsetInputState((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\ttitle: e.target.value,\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonBlur={() => inputOnBlur(\"title\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t\t<label htmlFor=\"text\">Text</label>\r\n\t\t\t\t\t\t<InputText\r\n\t\t\t\t\t\t\tid=\"text\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={inputState.text}\r\n\t\t\t\t\t\t\tonChange={(e: ContolledInput) => {\r\n\t\t\t\t\t\t\t\tsetInputState((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\ttext: e.target.value,\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonBlur={() => inputOnBlur(\"text\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"p-field p-col-6\">\r\n\t\t\t\t\t\t<label htmlFor=\"font-color\">Font color</label>\r\n\t\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\t\tid=\"font-color\"\r\n\t\t\t\t\t\t\tvalue={colorState.fontColor}\r\n\t\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\t\tcolorOnChange(\"fontColor\", e.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"p-field p-col-6\">\r\n\t\t\t\t\t\t<label htmlFor=\"bg-color\">Bg color</label>\r\n\t\t\t\t\t\t<ColorPicker\r\n\t\t\t\t\t\t\tid=\"bg-color\"\r\n\t\t\t\t\t\t\tvalue={colorState.backgroundColor}\r\n\t\t\t\t\t\t\tonChange={(e: any) => {\r\n\t\t\t\t\t\t\t\tcolorOnChange(\"backgroundColor\", e.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"p-field p-col-12\">\r\n\t\t\t\t\t\t<label htmlFor=\"width\">Width</label>\r\n\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tid=\"width\"\r\n\t\t\t\t\t\t\tvalue={widthState}\r\n\t\t\t\t\t\t\tonValueChange={(e) => {\r\n\t\t\t\t\t\t\t\twidthOnChange(e.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tshowButtons\r\n\t\t\t\t\t\t\tbuttonLayout=\"horizontal\"\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tdecrementButtonClassName=\"p-button-danger\"\r\n\t\t\t\t\t\t\tincrementButtonClassName=\"p-button-success\"\r\n\t\t\t\t\t\t\tincrementButtonIcon=\"pi pi-plus\"\r\n\t\t\t\t\t\t\tdecrementButtonIcon=\"pi pi-minus\"\r\n\t\t\t\t\t\t\tmode=\"decimal\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={12}\r\n\t\t\t\t\t\t\tonBlur={() => {}}\r\n\t\t\t\t\t\t\ttooltip={\r\n\t\t\t\t\t\t\t\t\"Screen is represented as 12-col grid. Choose how many columns your block will occupy\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttooltipOptions={{\r\n\t\t\t\t\t\t\t\tposition: \"top\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n","import \"./ControlPanel.scss\";\r\nimport { TabView, TabPanel } from \"primereact/tabview\";\r\nimport { useContext, useState } from \"react\";\r\nimport { SizeType } from \"../../hooks/useLayout\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\nimport { Controls } from \"../controls/Controls\";\r\nimport ModalsContext from \"../../context/ModalsContext\";\r\nimport { Button } from \"primereact/button\";\r\nimport { useSize } from \"../../hooks/useSize\";\r\n\r\ninterface ITabChangeEvent {\r\n\toriginalEvent: Event;\r\n\tindex: number;\r\n}\r\n\r\ninterface ISizesArray {\r\n\tbreakpoint: SizeType;\r\n\twidth: number;\r\n}\r\n\r\nexport const ControlPanel = () => {\r\n\tconst sizes: ISizesArray[] = [\r\n\t\t{\r\n\t\t\tbreakpoint: \"lg\",\r\n\t\t\twidth: 1200,\r\n\t\t},\r\n\t\t{\r\n\t\t\tbreakpoint: \"md\",\r\n\t\t\twidth: 991,\r\n\t\t},\r\n\t\t{\r\n\t\t\tbreakpoint: \"sm\",\r\n\t\t\twidth: 768,\r\n\t\t},\r\n\t];\r\n\tconst [activeIndex, setActiveIndex] = useState(0);\r\n\tconst {\r\n\t\tsetConstructorRes,\r\n\t\tsetConstructorWidth,\r\n\t\tsetLayout,\r\n\t\tconstructorRes,\r\n\t\tlayout,\r\n\t} = useContext(LayoutContext);\r\n\tconst { setConfig, setAddBlock } = useContext(ModalsContext);\r\n\tconst { sizeLayout } = useSize();\r\n\tconst tabs = [\"Desktop\", \"Tablet\", \"Mobile\"];\r\n\r\n\tconst onTabChange = (e: ITabChangeEvent) => {\r\n\t\tsetActiveIndex(e.index);\r\n\t\tsetConstructorRes(sizes[e.index].breakpoint);\r\n\t\tsetConstructorWidth(sizes[e.index].width);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"control\">\r\n\t\t\t<div className=\"p-d-flex\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tlabel=\"Add block\"\r\n\t\t\t\t\tclassName=\"p-button-sm p-button-success\"\r\n\t\t\t\t\tonClick={() => setAddBlock(true)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tlabel=\"Resize\"\r\n\t\t\t\t\tclassName=\"p-button-info p-button-sm p-ml-2\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst sizedLayout = sizeLayout(layout[constructorRes]);\r\n\r\n\t\t\t\t\t\tsetLayout(sizedLayout, constructorRes);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ticon=\"pi pi-times\"\r\n\t\t\t\t\tclassName=\"p-button-rounded p-button-danger p-button-outlined p-button-sm p-ml-auto\"\r\n\t\t\t\t\tonClick={() => setConfig(false)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<TabView activeIndex={activeIndex} onTabChange={onTabChange}>\r\n\t\t\t\t{tabs.map((tab) => (\r\n\t\t\t\t\t<TabPanel header={tab} key={tab.toLowerCase()}>\r\n\t\t\t\t\t\t<Controls />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t))}\r\n\t\t\t</TabView>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { Button } from \"primereact/button\";\r\nimport { useContext } from \"react\";\r\nimport ReactGridLayout from \"react-grid-layout\";\r\nimport LayoutContext from \"../../context/LayoutContext\";\r\nimport ModalsContext from \"../../context/ModalsContext\";\r\nimport { ILayout } from \"../../hooks/useLayout\";\r\nimport { AddBlockModal } from \"../add-block/AddBlockModal\";\r\nimport { Block } from \"../block/Block\";\r\nimport { ControlPanel } from \"../control-panel/ControlPanel\";\r\n\r\nexport const Constructor = () => {\r\n\tconst {\r\n\t\tlayout,\r\n\t\tconstructorRes,\r\n\t\tconstructorWidth,\r\n\t\tsetLayout,\r\n\t\tsetCurrentElem,\r\n\t\tcurrentElem,\r\n\t} = useContext(LayoutContext);\r\n\r\n\tconst { config, setConfig } = useContext(ModalsContext);\r\n\r\n\tconst getConfiguredLayouts = () => {\r\n\t\treturn JSON.parse(JSON.stringify(layout[constructorRes]));\r\n\t};\r\n\r\n\tconst onLayoutChange = (newLayout: ReactGridLayout.Layout[]) => {\r\n\t\tconst layoutCopy: ILayout[] = layout[constructorRes].map((block) => {\r\n\t\t\tconst changedBlock = newLayout.find(\r\n\t\t\t\t(newBlock) => newBlock.i === block.i\r\n\t\t\t);\r\n\t\t\t// I'm too tired to deal with shit like possible changedBlock undefined status\r\n\t\t\treturn {\r\n\t\t\t\ti: changedBlock!.i,\r\n\t\t\t\tcontent: block.content,\r\n\t\t\t\tx: changedBlock!.x,\r\n\t\t\t\ty: changedBlock!.y,\r\n\t\t\t\tw: changedBlock!.w,\r\n\t\t\t\th: changedBlock!.h,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tsetLayout(layoutCopy, constructorRes);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AddBlockModal />\r\n\t\t\t{config ? (\r\n\t\t\t\t<ControlPanel />\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"controls-button\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tlabel=\"Show controls\"\r\n\t\t\t\t\t\tclassName=\"p-button-rounded p-button-warning\"\r\n\t\t\t\t\t\tonClick={() => setConfig(true)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"constructor\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<strong>{constructorWidth}px</strong>\r\n\t\t\t\t</span>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`constructor__grid`}\r\n\t\t\t\t\t\tstyle={{ width: `${constructorWidth}px` }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ReactGridLayout\r\n\t\t\t\t\t\t\tlayout={getConfiguredLayouts()}\r\n\t\t\t\t\t\t\twidth={constructorWidth}\r\n\t\t\t\t\t\t\tcols={12}\r\n\t\t\t\t\t\t\trowHeight={30}\r\n\t\t\t\t\t\t\t// isBounded={true}\r\n\t\t\t\t\t\t\t// compactType={null}\r\n\t\t\t\t\t\t\tonLayoutChange={onLayoutChange}\r\n\t\t\t\t\t\t\tresizeHandles={[\"sw\", \"nw\", \"se\", \"ne\"]}\r\n\t\t\t\t\t\t\t// preventCollision={true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{layout[constructorRes].map((block) => (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tkey={block.i}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setCurrentElem(block)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcursor: \"pointer\",\r\n\t\t\t\t\t\t\t\t\t\tboxShadow:\r\n\t\t\t\t\t\t\t\t\t\t\tblock.i === currentElem?.i\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"0 0 15px rgba(255,69,0,0.6)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"none\",\r\n\t\t\t\t\t\t\t\t\t\tbackground: `#${block.content.backgroundColor}`,\r\n\t\t\t\t\t\t\t\t\t\tpadding: \"0 20px\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Block {...block.content} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ReactGridLayout>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { Header } from \"./modules/header/Header\";\nimport { MenuSidebar } from \"./modules/sidebar/MenuSidebar\";\nimport { Redirect, Route, Switch } from \"react-router\";\nimport { Preview } from \"./modules/preview/Preview\";\nimport { Constructor } from \"./modules/constructor/Constructor\";\n\nconst App = () => {\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<MenuSidebar />\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact component={Preview} />\n\t\t\t\t<Route path=\"/constructor\" component={Constructor} />\n\t\t\t\t<Redirect exact from=\"**\" to={\"/\"} />\n\t\t\t</Switch>\n\t\t</>\n\t);\n};\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { LayoutState } from \"./context/LayoutContext\";\nimport { ModalsState } from \"./context/ModalsContext\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<LayoutState>\n\t\t\t\t<ModalsState>\n\t\t\t\t\t<App />\n\t\t\t\t</ModalsState>\n\t\t\t</LayoutState>\n\t\t</HashRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
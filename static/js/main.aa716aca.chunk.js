(this["webpackJsonpreact-grid"]=this["webpackJsonpreact-grid"]||[]).push([[0],{59:function(t,e,n){},64:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),r=n(10),i=n.n(r),s=(n(59),n(14)),l=n(8),a=n(1),u=Object(c.createContext)({menuSidebar:!1,setMenuSidebar:function(){}}),j=function(t){var e=t.children,n=function(){var t=Object(c.useState)(!1),e=Object(l.a)(t,2),n=e[0],o=e[1];return{menuSidebar:n,setMenuSidebar:function(t){o(t)}}}();return Object(a.jsx)(u.Provider,{value:n,children:e})},b=u,d=(n(64),function(){var t=Object(c.useContext)(b).setMenuSidebar;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(s.Button,{label:"Open menu",onClick:function(){return t(!0)}}),Object(a.jsx)("h1",{children:"Page constructor"})]})}),O=n(52),f=n(2),h=function(){var t=Object(c.useContext)(b),e=t.menuSidebar,n=t.setMenuSidebar,o=Object(f.f)();return Object(a.jsxs)(O.Sidebar,{visible:e,position:"left",className:"ui-sidebar-sm",onHide:function(){return n(!1)},children:[Object(a.jsx)("h1",{style:{fontWeight:"normal"},children:"Sidebar menu"}),Object(a.jsx)(s.Button,{label:"Preview",icon:"pi pi-desktop",className:"p-button-outlined",style:{marginRight:".25em"},onClick:function(){o.push("/"),n(!1)}}),Object(a.jsx)(s.Button,{icon:"pi pi-cog",label:"Constructor",className:"p-button-outlined",onClick:function(){o.push("/constructor"),n(!1)}})]})},x=n(6),v=n(23),m=n.n(v),g=n(24),p=n(15),C=Object(c.createContext)({currentElem:{},layout:{},setCurrentElem:function(){},setLayout:function(){},breakpoint:"lg",screenWidth:0,constructorRes:"lg",setConstructorRes:function(){},constructorWidth:0,setConstructorWidth:function(){},setAllLayouts:function(){}}),w=function(t){var e=t.children,n=function(){var t=Object(c.useState)({lg:[],md:[],sm:[]}),e=Object(l.a)(t,2),n=e[0],o=e[1],r=Object(c.useState)(0),i=Object(l.a)(r,2),s=i[0],a=i[1];Object(c.useEffect)((function(){console.log(n)}),[n]);var u=Object(c.useState)("lg"),j=Object(l.a)(u,2),b=j[0],d=j[1];Object(c.useLayoutEffect)((function(){function t(){window.innerWidth>=1200?d("lg"):window.innerWidth>=991&&window.innerWidth<1200?d("md"):window.innerWidth>=768&&window.innerWidth<991&&d("sm"),a(window.innerWidth)}return window.addEventListener("resize",t),t(),a(window.innerWidth),function(){return window.removeEventListener("resize",t)}}),[]);var O=Object(c.useState)(null),f=Object(l.a)(O,2),h=f[0],v=f[1],m=Object(c.useState)("lg"),g=Object(l.a)(m,2),C=g[0],w=g[1],k=Object(c.useState)(1200),y=Object(l.a)(k,2),S=y[0],N=y[1];return{layout:n,currentElem:h,setCurrentElem:function(t){v(t)},setLayout:function(t,e){var n=e||b;o((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(p.a)({},n,t))}))},breakpoint:b,screenWidth:s,constructorRes:C,setConstructorRes:function(t){w(t)},constructorWidth:S,setConstructorWidth:function(t){N(t)},setAllLayouts:function(t){o(t)}}}();return Object(a.jsx)(C.Provider,{value:n,children:e})},k=C,y=function(t){t.backgroundColor;var e=t.title,n=t.text,c=t.fontColor;return Object(a.jsxs)("div",{style:{backgroundColor:"inherit",color:"#".concat(c),height:"100%",width:"100%"},children:[Object(a.jsx)("div",{children:Object(a.jsx)("strong",{children:e})}),Object(a.jsx)("p",{style:{margin:0},children:n})]})},S=function(){var t=Object(c.useContext)(k),e=t.screenWidth,n=t.breakpoint;return Object(a.jsxs)("span",{children:["Current breakpoint: ",Object(a.jsx)("strong",{children:n}),". Current screen width: ",Object(a.jsx)("strong",{children:e})]})},N=(n(79),function(){var t=Object(c.useContext)(k),e=t.layout,n=t.screenWidth,o=t.breakpoint;return Object(a.jsx)(a.Fragment,{children:0===e[o].length?Object(a.jsxs)("div",{className:"preview",children:[Object(a.jsxs)("h2",{className:"preview__title",children:["Seems like there is no blocks on current resolution."," "]}),Object(a.jsx)(g.b,{to:"/constructor",className:"preview__link",children:"Go to block constructor"}),Object(a.jsx)(S,{})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{padding:"0 20px"},children:Object(a.jsx)(S,{})}),Object(a.jsx)(m.a,{layout:e[o],width:n,cols:12,rowHeight:30,isDraggable:!1,isBounded:!0,isResizable:!1,isDroppable:!1,children:e[o].map((function(t){return Object(a.jsx)("div",{className:"scroll",style:{background:"#".concat(t.content.backgroundColor)},children:Object(a.jsx)(y,Object(x.a)({},t.content))},t.i)}))})]})})}),W=(n(80),n(34)),E=n(18),F=n(90),L=n(35),B=n(36),T=function(){var t=Object(c.useContext)(k),e=t.layout,n=t.setCurrentElem,o=t.currentElem,r=t.setAllLayouts;Object(c.useEffect)((function(){var t,e,n,c;b({title:null!==(t=null===o||void 0===o?void 0:o.content.title)&&void 0!==t?t:"",text:null!==(e=null===o||void 0===o?void 0:o.content.text)&&void 0!==e?e:""}),h({fontColor:null!==(n=null===o||void 0===o?void 0:o.content.fontColor)&&void 0!==n?n:"000000",backgroundColor:null!==(c=null===o||void 0===o?void 0:o.content.backgroundColor)&&void 0!==c?c:"fffffff"})}),[o]);var i=Object(c.useState)({title:"",text:""}),u=Object(l.a)(i,2),j=u[0],b=u[1],d=Object(c.useState)({fontColor:"000000",backgroundColor:"fffffff"}),O=Object(l.a)(d,2),f=O[0],h=O[1],v=function(t){if(o){var e=Object(x.a)(Object(x.a)({},o),{},{content:Object(x.a)(Object(x.a)({},o.content),{},Object(p.a)({},t,j[t]))});C(e)}},m=function(t,e){if(o){var n=Object(x.a)(Object(x.a)({},o),{},{content:Object(x.a)(Object(x.a)({},o.content),{},Object(p.a)({},t,e))});C(n)}},g=function(t,e){var n=Object(E.a)(t),c=n.findIndex((function(t){return t.i===e.i})),o=t[c];return o.content=e.content,-1!==c&&n.splice(c,1,o),n},C=function(t){n(t),r({lg:g(e.lg,t),md:g(e.md,t),sm:g(e.sm,t)})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(s.Button,{label:"Add block",className:"p-button-sm p-button-success",onClick:function(){var t={i:Object(F.a)(),h:2,w:2,x:0,y:0,content:{backgroundColor:"ffffff",fontColor:"000000",text:"Content of a new block",title:"New block"}};r({lg:[].concat(Object(E.a)(e.lg),[t]),md:[].concat(Object(E.a)(e.md),[t]),sm:[].concat(Object(E.a)(e.sm),[t])}),n(t)}}),o?Object(a.jsxs)("div",{className:"p-fluid p-formgrid p-grid p-mt-3",children:[Object(a.jsxs)("div",{className:"p-field p-col-12",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)(L.InputText,{id:"title",type:"text",value:j.title,onChange:function(t){b((function(e){return Object(x.a)(Object(x.a)({},e),{},{title:t.target.value})}))},onBlur:function(){return v("title")}})]}),Object(a.jsxs)("div",{className:"p-field p-col-12",children:[Object(a.jsx)("label",{htmlFor:"text",children:"Text"}),Object(a.jsx)(L.InputText,{id:"text",type:"text",value:j.text,onChange:function(t){b((function(e){return Object(x.a)(Object(x.a)({},e),{},{text:t.target.value})}))},onBlur:function(){return v("text")}})]}),Object(a.jsxs)("div",{className:"p-field p-col-6",children:[Object(a.jsx)("label",{htmlFor:"font-color",children:"Font color"}),Object(a.jsx)(B.ColorPicker,{id:"font-color",value:f.fontColor,onChange:function(t){m("fontColor",t.value)}})]}),Object(a.jsxs)("div",{className:"p-field p-col-6",children:[Object(a.jsx)("label",{htmlFor:"bg-color",children:"Bg color"}),Object(a.jsx)(B.ColorPicker,{id:"bg-color",value:f.backgroundColor,onChange:function(t){m("backgroundColor",t.value)}})]})]}):Object(a.jsx)("p",{children:"Seems like there is no selected block"})]})},P=function(){var t=[{breakpoint:"lg",width:1200},{breakpoint:"md",width:991},{breakpoint:"sm",width:768}],e=Object(c.useState)(0),n=Object(l.a)(e,2),o=n[0],r=n[1],i=Object(c.useContext)(k),s=i.setConstructorRes,u=i.setConstructorWidth;return Object(a.jsx)("div",{className:"control",children:Object(a.jsx)(W.TabView,{activeIndex:o,onTabChange:function(e){r(e.index),s(t[e.index].breakpoint),u(t[e.index].width)},children:["Desktop","Tablet","Mobile"].map((function(t){return Object(a.jsx)(W.TabPanel,{header:t,children:Object(a.jsx)(T,{})},t.toLowerCase())}))})})},R=function(){var t=Object(c.useContext)(k),e=t.layout,n=t.constructorRes,o=t.constructorWidth,r=t.setLayout,i=t.setCurrentElem,s=t.currentElem;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsxs)("div",{className:"constructor",children:[Object(a.jsx)("span",{children:Object(a.jsxs)("strong",{children:[o,"px"]})}),Object(a.jsx)("div",{className:"constructor__grid",style:{width:"".concat(o,"px")},children:Object(a.jsx)(m.a,{layout:e[n],width:o,cols:12,rowHeight:30,isBounded:!0,onLayoutChange:function(t){var c=e[n].map((function(e){var n=t.find((function(t){return t.i===e.i}));return{i:n.i,content:e.content,x:n.x,y:n.y,w:n.w,h:n.h}}));r(c,n)},children:e[n].map((function(t){return Object(a.jsx)("div",{className:"scroll",onClick:function(){return i(t)},style:{cursor:"pointer",boxShadow:t.i===(null===s||void 0===s?void 0:s.i)?"0 0 15px rgba(255,69,0,0.6)":"none",background:"#".concat(t.content.backgroundColor)},children:Object(a.jsx)(y,Object(x.a)({},t.content))},t.i)}))})})]})]})},I=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(d,{}),Object(a.jsx)(h,{}),Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{path:"/",exact:!0,component:N}),Object(a.jsx)(f.a,{path:"/constructor",component:R})]})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),o(t),r(t),i(t)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(w,{children:Object(a.jsx)(j,{children:Object(a.jsx)(I,{})})})})}),document.getElementById("root")),M()}},[[88,1,2]]]);
//# sourceMappingURL=main.aa716aca.chunk.js.map